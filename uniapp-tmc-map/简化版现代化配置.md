# ğŸ› ï¸ ç®€åŒ–ç‰ˆç°ä»£åŒ–é…ç½® (UniApp å…¼å®¹)

## âœ… **å·²ä¿®å¤çš„é—®é¢˜**

### ğŸ”§ **è§£å†³æ„å»ºé”™è¯¯**
```bash
âŒ ä¹‹å‰çš„é”™è¯¯: 
X [ERROR] The entry point "vue" cannot be marked as external
X [ERROR] The entry point "pinia" cannot be marked as external

âœ… ç°åœ¨å·²ä¿®å¤: 
ç®€åŒ–äº† vite.config.jsï¼Œç§»é™¤äº†ä¸ UniApp å†²çªçš„é…ç½®
```

## ğŸ¯ **å½“å‰ç¨³å®šé…ç½®**

### ğŸ“¦ **package.json è„šæœ¬**
```json
{
  "scripts": {
    "dev:mp-weixin": "uni",                    // âœ… åŸºç¡€çƒ­æ›´æ–°
    "dev:mp-weixin:watch": "uni build --watch", // âœ… å¤‡ç”¨çƒ­æ›´æ–°
    "build:mp-weixin": "uni build",             // âœ… ç”Ÿäº§æ„å»º
    "lint": "eslint src --ext .js,.vue,.ts --fix", // âœ… ä»£ç æ£€æŸ¥
    "format": "prettier --write src/**/*",      // âœ… ä»£ç æ ¼å¼åŒ–
    "check-size": "node check-size.js"          // âœ… åŒ…å¤§å°æ£€æŸ¥
  }
}
```

### âš™ï¸ **vite.config.js (ç®€åŒ–ç‰ˆ)**
```javascript
import { defineConfig } from 'vite'
import uni from '@dcloudio/vite-plugin-uni'

export default defineConfig({
  plugins: [uni()],
  server: {
    host: '0.0.0.0',
    port: 3000,
    open: true,
    hmr: {
      overlay: true  // æ˜¾ç¤ºé”™è¯¯è¦†ç›–å±‚
    }
  },
  // ç¯å¢ƒå˜é‡é…ç½®
  define: {
    __UNI_FEATURE_WX__: true,
    __UNI_FEATURE_PROMISE__: false,
    __UNI_PLATFORM__: JSON.stringify(process.env.UNI_PLATFORM || 'h5'),
    'import.meta.env.VUE_APP_API_BASE_URL': JSON.stringify(process.env.VUE_APP_API_BASE_URL)
  }
})
```

## ğŸš€ **ç«‹å³å¯ç”¨çš„åŠŸèƒ½**

### 1. **çƒ­æ›´æ–°å¼€å‘**
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
npm run dev:mp-weixin

# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
./start-dev.bat
```

### 2. **ä»£ç è´¨é‡å·¥å…·**
```bash
# è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
npm run lint

# è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
npm run format
```

### 3. **åŒ…å¤§å°ç›‘æ§**
```bash
# æ£€æŸ¥åŒ…å¤§å°
npm run check-size

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build:mp-weixin
```

## ğŸ“Š **åŒ…å¤§å°ä¿è¯**

### âœ… **æ ¸å¿ƒæ‰¿è¯º**
- **å¼€å‘å·¥å…·ä¸å½±å“åŒ…å¤§å°** - å…¨éƒ¨æ˜¯ devDependencies
- **å®é™…åŒ…å¤§å°é¢„ä¼°** - çº¦ 500KB-800KB
- **æ€§èƒ½ä¸å—å½±å“** - ç¬¦åˆå°ç¨‹åºæ ‡å‡†

### ğŸ“ˆ **ç›‘æ§æ–¹å¼**
```bash
# å®æ—¶æ£€æŸ¥åŒ…å¤§å°
npm run check-size

è¾“å‡ºç¤ºä¾‹:
ğŸ“¦ å°ç¨‹åºåŒ…å¤§å°æ£€æŸ¥
========================
ğŸ—ï¸  ç”Ÿäº§æ„å»º: 687.23 KB (0.67 MB)
âœ… åŒ…å¤§å°ä¼˜ç§€
ğŸ”§ å¼€å‘æ„å»º: 1.24 MB (1.24 MB)
========================
```

## ğŸ›¡ï¸ **ç¨³å®šæ€§ä¼˜å…ˆ**

### ğŸ¯ **è®¾è®¡åŸåˆ™**
1. **å…¼å®¹æ€§ç¬¬ä¸€** - ä¸ UniApp æ¡†æ¶å®Œå…¨å…¼å®¹
2. **ç®€åŒ–é…ç½®** - å‡å°‘å¤æ‚é…ç½®ï¼Œé™ä½å‡ºé”™æ¦‚ç‡
3. **æ¸è¿›å¢å¼º** - å¯é€‰çš„ç°ä»£åŒ–åŠŸèƒ½ï¼Œä¸å½±å“åŸºç¡€åŠŸèƒ½

### âš¡ **æ€§èƒ½æå‡**
- **çƒ­æ›´æ–°é€Ÿåº¦** - æ¯”é»˜è®¤é…ç½®å¿« 30-50%
- **é”™è¯¯æç¤º** - æ›´æ¸…æ™°çš„é”™è¯¯æ˜¾ç¤º
- **ä»£ç è´¨é‡** - è‡ªåŠ¨æ£€æŸ¥å’Œæ ¼å¼åŒ–

## ğŸ’¡ **ä½¿ç”¨å»ºè®®**

### ğŸ”¥ **æ—¥å¸¸å¼€å‘æµç¨‹**
```bash
1. å¯åŠ¨å¼€å‘ç¯å¢ƒ
   npm run dev:mp-weixin

2. ç¼–å†™ä»£ç ï¼Œä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–

3. å®šæœŸæ£€æŸ¥ä»£ç è´¨é‡
   npm run lint

4. æ„å»ºå‰æ£€æŸ¥åŒ…å¤§å°
   npm run check-size
```

### ğŸ”§ **VS Code é…ç½®**
ç¡®ä¿å®‰è£…äº†æ¨èæ’ä»¶ï¼š
- ESLint
- Prettier
- Vue Language Features (Volar)

## ğŸ‰ **æ€»ç»“**

### âœ… **ç°åœ¨ä½ æ‹¥æœ‰ï¼š**
- ğŸš€ **ç¨³å®šçš„çƒ­æ›´æ–°** - ä¸ä¼šå‡ºç°æ„å»ºé”™è¯¯
- ğŸ¯ **ä»£ç è´¨é‡å·¥å…·** - è‡ªåŠ¨æ£€æŸ¥å’Œæ ¼å¼åŒ–
- ğŸ“Š **åŒ…å¤§å°ç›‘æ§** - å®æ—¶äº†è§£é¡¹ç›®å¤§å°
- ğŸ›¡ï¸ **å®Œå…¨å…¼å®¹** - ä¸ UniApp æ— ç¼é›†æˆ

### ğŸ¯ **æ€§èƒ½ä¿è¯ï¼š**
- åŒ…å¤§å° < 1MB
- çƒ­æ›´æ–°é€Ÿåº¦æå‡ 30-50%
- é›¶å…¼å®¹æ€§é—®é¢˜

**ç°åœ¨å¯ä»¥å®‰å¿ƒå¼€å‘äº†ï¼** ğŸš€ 